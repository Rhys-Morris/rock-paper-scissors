<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <link rel="stylesheet" href="source/style.css">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">
    </head>
    <body>
        <header>
            <h1 class="heading-1">Rock Paper Scissors Simulator</h1>
            <h2 class="heading-2">Can you beat the computer?</h2>
        </header>
        <div class="scoreboard">
            <span class="name">Player</span> <span class="score player-score">0</span> :
            <span class="score computer-score">0</span> <span class="name">Computer</span>
        </div>
        <div class="game">
            <h3 class="heading-3">Make a selection to start the game.</h3>
            <div class="buttons">
                <button class="btn"><img src="source/images/rock.png" alt="rock-icon" class="icon" id="rock"></button>
                <button class="btn"><img src="source/images/paper.png" alt="paper-icon" class="icon" id="paper"></button>
                <button class="btn"><img src="source/images/scissors.png" alt="scissors-icon" class="icon" id="scissors"></button>
            </div>
        </div>
        <!-- JS here -->
        <script>

            let playerScore = 0, computerScore = 0;

            window.addEventListener('click', function (e) {
                let selection = e.target.id;

                function computerDecision() {
                    let choice = Math.floor(Math.random() * 3);
                    if (choice == 0) {
                        return "Rock";
                    } else if (choice == 1) {
                        return "Paper";
                    } else {
                        return "Scissors";
                    }
                    }

                function playRound(playerChoice, computerChoice) {

                    computerChoice = computerChoice.toLowerCase();

                    const message = document.querySelector('.heading-3');


                    if (playerChoice == computerChoice) {
                        message.textContent = "Tie!";
                        return 0;
                    } else if (playerChoice == "rock") {
                        if (computerChoice == "scissors") {
                            message.textContent = `You Win! Rock beats Scissors!`;
                            return 1;
                        } else {
                            message.textContent =`You Lose! Paper beats Rock!`;
                            return 2;
                        }
                    } else if (playerChoice == "scissors") {
                        if (computerChoice == "paper") {
                            message.textContent = `You Win! Scissors beats Paper!`;
                            return 1;
                        } else {
                            message.textContent = `You Lose! Rock beats Scissors!`;
                            return 2;
                        }
                    } else if (playerChoice == "paper") {
                        if (computerChoice == "rock") {
                            message.textContent = `You Win! Paper beats Rock!`;
                            return 1;
                        } else {
                            message.textContent = `You Lose! Scissors beats Paper!`;
                            return 2;
                        }
                    }
                }

                    const round = playRound(selection, computerDecision());

                    if (round == 1) {
                        playerScore++;
                        let scoreUpdate = document.querySelector('.player-score');
                        scoreUpdate.textContent = playerScore;
                    } else if (round == 2) {
                        computerScore++;
                        let scoreUpdate = document.querySelector('.computer-score');
                        scoreUpdate.textContent = computerScore;
                    }
                });

        </script>
    </body>
</html>